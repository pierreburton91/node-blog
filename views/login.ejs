<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <!-- <meta http-equiv="x-ua-compatible" content="ie=edge"> -->
    <title>Log In</title>
    <meta name="description" content="">
    <meta name="author" content="Pierre Burton">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, user-scalable=no, maximum-scale=1.0, width=device-width">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#">
    <meta name="msapplication-navbutton-color" content="#">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="images/favicon.png">
    <meta name="msapplication-square150x150logo" content="images/tile.png">
    <meta name="msapplication-wide310x150logo" content="images/tile-wide.png">
    <!-- Twitter card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="">
    <!-- Open graphs -->
    <meta property="og:title" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:description" content="">
    <link rel="stylesheet" href="styles/styles.css" type="text/css">
</head>
<body>
	<div class="container-flex">
        <div class="login-form">
            <div class="login-header">
                <h1>Hey stranger !</h1>
                <h2>Please log in so we know who you are.</h2>
            </div>
            <label class="labeled">
                <input type="text" name="username" class="inputs" id="user" required/>
                <span class="float-label">Username</span>
                <div class="bottom-line"></div>
                <div class="bottom-line-active"></div>
            </label>
            <label class="labeled">
                <input type="password" name="password" class="inputs" id="password" required/>
                <span class="float-label">Password</span>
                <div class="bottom-line"></div>
                <div class="bottom-line-active"></div>
            </label>
            <label class="labeled">
                <div class="checker">
                    <input type="checkbox" name="save" class="inputs" id="save" required/>
                    <i class="fa fa-check" aria-hidden="true"></i>
                </div>
                <span>Remember me</span>
            </label>
            <div class="button-f-right">
                <button class="button" onclick="login()">Log in</button>
            </div>
        </div>   
    </div>
<script type="text/javascript">
    function login() {
        var user = document.querySelector("#user").value,
            password = document.querySelector("#password").value,
            toSave = document.querySelector("#save").checked,
            data = {"username": user, "password": password, "toSave": toSave};

        var xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function() {
            if (this.readyState == 4) {
                if (this.status == 200) {
                    var response = this.responseText;
                    console.log(response == "true");
                }
                else {
                    console.log(this.status, this.statusText, this.getAllResponseHeaders());
                }
            }
        }
        xhr.open("POST", "/api/check-credentials", true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(JSON.stringify(data));
    }

    function displayNotification() {
        // Create the HTML string
        var element = '<div class="notification"><div class="notification-content"></div><div class="notification-close"><i class="fa fa-close"></i></div></div>',
            body = document.querySelector('body');
        // append HTML string to body
        body.insertAdjacentHTML('beforeend', element);

        var note = document.querySelector(".notification"), // your notification-up element
            closeButton = document.querySelector(".notification-close"), // your close button
            noteContent = document.querySelector(".notification-content"), // your content text for the notification-up
            toMove = noteWidth + 20, // defines the total amount of pixels to move through "close" button
            contentText = "The super content of the dead for your notification-up !"; // content text

        // your text to display
        noteContent.innerHTML = contentText;

        // click event on close button
        closeButton.addEventListener("click", function() {
        
            // remove the notification-up from the DOM
            body.removeChild(note);
        });
    };
</script>
<script src="https://use.fontawesome.com/973262919d.js"></script>
</body>
</html>